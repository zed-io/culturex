{"ast":null,"code":"import _objectSpread from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Suspense}from\"react\";import{useInitialized}from\"../hooks/use-initialized.hook\";import{useCurrentUser}from\"../hooks/use-current-user.hook\";import{IDLE}from\"../global/constants\";import{Box,Button,Table,Tbody,Tr,Td,Flex,Heading,Spinner,Center}from\"@chakra-ui/react\";import{CheckIcon,CloseIcon}from\"@chakra-ui/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fmtBool=function fmtBool(bool){return bool?/*#__PURE__*/_jsx(CheckIcon,{color:\"green.500\"}):/*#__PURE__*/_jsx(CloseIcon,{color:\"red.500\"});};export function InitCluster(_ref){var address=_ref.address;var init=useInitialized(address);var _useCurrentUser=useCurrentUser(),_useCurrentUser2=_slicedToArray(_useCurrentUser,1),cu=_useCurrentUser2[0];if(address==null)return null;return/*#__PURE__*/_jsxs(Box,{mb:\"4\",children:[/*#__PURE__*/_jsx(Box,{mb:\"2\",children:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mr:\"4\",children:\"Account Initialized?\"}),init.status!==IDLE&&/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Spinner,{})})]})}),/*#__PURE__*/_jsx(Box,{maxW:\"200px\",borderWidth:\"1px\",borderRadius:\"lg\",children:/*#__PURE__*/_jsx(Table,{size:\"sm\",children:/*#__PURE__*/_jsxs(Tbody,{children:[/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:\"Culture Token\"}),/*#__PURE__*/_jsx(Td,{children:fmtBool(init.CultureToken)})]}),/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:\"Cultural Items\"}),/*#__PURE__*/_jsx(Td,{children:fmtBool(init.CulturalItems)})]}),/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:\"Cultural Items Market\"}),/*#__PURE__*/_jsx(Td,{children:fmtBool(init.CulturalItemsMarket)})]})]})})}),!init.isInitialized&&address===cu.addr&&/*#__PURE__*/_jsx(Box,{mt:\"2\",children:/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",disabled:init.status!==IDLE,onClick:init.initialize,children:\"Initialize Account\"})})})]});}export default function WrappedInitCluster(props){var _useCurrentUser3=useCurrentUser(),_useCurrentUser4=_slicedToArray(_useCurrentUser3,1),cu=_useCurrentUser4[0];if(cu.addr!==props.address)return null;return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Box,{mb:\"2\",children:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mr:\"4\",children:\"Account Initialized?\"}),/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Spinner,{size:\"sm\"})})]})}),children:/*#__PURE__*/_jsx(InitCluster,_objectSpread({},props))});}","map":{"version":3,"sources":["/Users/mvps/culturex/web/src/parts/init-cluster.comp.js"],"names":["Suspense","useInitialized","useCurrentUser","IDLE","Box","Button","Table","Tbody","Tr","Td","Flex","Heading","Spinner","Center","CheckIcon","CloseIcon","fmtBool","bool","InitCluster","address","init","cu","status","CultureToken","CulturalItems","CulturalItemsMarket","isInitialized","addr","initialize","WrappedInitCluster","props"],"mappings":"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","sourcesContent":["import {Suspense} from \"react\"\nimport {useInitialized} from \"../hooks/use-initialized.hook\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {\n  Box,\n  Button,\n  Table,\n  Tbody,\n  Tr,\n  Td,\n  Flex,\n  Heading,\n  Spinner,\n  Center,\n} from \"@chakra-ui/react\"\nimport {CheckIcon, CloseIcon} from \"@chakra-ui/icons\"\n\nconst fmtBool = bool =>\n  bool ? <CheckIcon color=\"green.500\" /> : <CloseIcon color=\"red.500\" />\n\nexport function InitCluster({address}) {\n  const init = useInitialized(address)\n  const [cu] = useCurrentUser()\n  if (address == null) return null\n\n  return (\n    <Box mb=\"4\">\n      <Box mb=\"2\">\n        <Flex>\n          <Heading size=\"md\" mr=\"4\">\n            Account Initialized?\n          </Heading>\n          {init.status !== IDLE && (\n            <Center>\n              <Spinner />\n            </Center>\n          )}\n        </Flex>\n      </Box>\n      <Box maxW=\"200px\" borderWidth=\"1px\" borderRadius=\"lg\">\n        <Table size=\"sm\">\n          <Tbody>\n            <Tr>\n              <Td>Culture Token</Td>\n              <Td>{fmtBool(init.CultureToken)}</Td>\n            </Tr>\n            <Tr>\n              <Td>Cultural Items</Td>\n              <Td>{fmtBool(init.CulturalItems)}</Td>\n            </Tr>\n            <Tr>\n              <Td>Cultural Items Market</Td>\n              <Td>{fmtBool(init.CulturalItemsMarket)}</Td>\n            </Tr>\n          </Tbody>\n        </Table>\n      </Box>\n      {!init.isInitialized && address === cu.addr && (\n        <Box mt=\"2\">\n          <Flex>\n            <Button\n              colorScheme=\"blue\"\n              disabled={init.status !== IDLE}\n              onClick={init.initialize}\n            >\n              Initialize Account\n            </Button>\n          </Flex>\n        </Box>\n      )}\n    </Box>\n  )\n}\n\nexport default function WrappedInitCluster(props) {\n  const [cu] = useCurrentUser()\n  if (cu.addr !== props.address) return null\n\n  return (\n    <Suspense\n      fallback={\n        <Box mb=\"2\">\n          <Flex>\n            <Heading size=\"md\" mr=\"4\">\n              Account Initialized?\n            </Heading>\n            <Center>\n              <Spinner size=\"sm\" />\n            </Center>\n          </Flex>\n        </Box>\n      }\n    >\n      <InitCluster {...props} />\n    </Suspense>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}