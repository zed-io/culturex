{"ast":null,"code":"import _objectSpread from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Suspense}from\"react\";import{useMarketItem}from\"../hooks/use-market-item.hook\";import{useAccountItem}from\"../hooks/use-account-item.hook\";import{useCurrentUser}from\"../hooks/use-current-user.hook\";import{IDLE}from\"../global/constants\";import{Tr,Td,Button,Spinner,Flex,Center,Text,HStack}from\"@chakra-ui/react\";// import {ItemImage} from \"./account-item-cluster.comp\"\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function MarketItemCluster(_ref){var address=_ref.address,id=_ref.id;var item=useAccountItem(address,id);var list=useMarketItem(address,id);var _useCurrentUser=useCurrentUser(),_useCurrentUser2=_slicedToArray(_useCurrentUser,2),loggedIn=_useCurrentUser2[1];var BUSY=item.status!==IDLE||list.status!==IDLE;if(address==null)return null;if(id==null)return null;return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{maxW:\"50px\",children:/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsxs(Text,{children:[\"#\",item.id]})})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Text,{children:item.name})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Text,{children:item.country})}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:item.price||10}),loggedIn&&/*#__PURE__*/_jsx(_Fragment,{children:item.owned?/*#__PURE__*/_jsx(Td,{isNumeric:true,maxW:\"20px\",children:/*#__PURE__*/_jsx(Button,{colorScheme:\"orange\",size:\"sm\",disabled:BUSY,onClick:list.cancelListing,children:/*#__PURE__*/_jsxs(HStack,{children:[BUSY&&/*#__PURE__*/_jsx(Spinner,{mr:\"2\",size:\"xs\"}),/*#__PURE__*/_jsx(Text,{children:\"Unlist\"})]})})}):/*#__PURE__*/_jsx(Td,{isNumeric:true,maxW:\"15px\",children:/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",size:\"sm\",disabled:BUSY,onClick:list.buy,children:/*#__PURE__*/_jsxs(HStack,{children:[BUSY&&/*#__PURE__*/_jsx(Spinner,{mr:\"2\",size:\"xs\"}),/*#__PURE__*/_jsx(Text,{children:\"Buy\"})]})})})})]});}export default function WrappedMarketItemCluster(props){return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{maxW:\"50px\",children:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsxs(Text,{children:[\"#\",props.id]}),/*#__PURE__*/_jsx(Center,{ml:\"4\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xs\"})})]})}),/*#__PURE__*/_jsx(Td,{}),/*#__PURE__*/_jsx(Td,{})]}),children:/*#__PURE__*/_jsx(MarketItemCluster,_objectSpread({},props))});}","map":{"version":3,"sources":["/Users/mvps/culturex/web/src/parts/market-item-cluster.comp.js"],"names":["Suspense","useMarketItem","useAccountItem","useCurrentUser","IDLE","Tr","Td","Button","Spinner","Flex","Center","Text","HStack","MarketItemCluster","address","id","item","list","loggedIn","BUSY","status","name","country","price","owned","cancelListing","buy","WrappedMarketItemCluster","props"],"mappings":"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","sourcesContent":["import {Suspense} from \"react\"\nimport {useMarketItem} from \"../hooks/use-market-item.hook\"\nimport {useAccountItem} from \"../hooks/use-account-item.hook\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {\n  Tr,\n  Td,\n  Button,\n  Spinner,\n  Flex,\n  Center,\n  Text,\n  HStack,\n} from \"@chakra-ui/react\"\n\n// import {ItemImage} from \"./account-item-cluster.comp\"\n\nexport function MarketItemCluster({address, id}) {\n  const item = useAccountItem(address, id)\n  const list = useMarketItem(address, id)\n  const [, loggedIn] = useCurrentUser()\n\n  const BUSY = item.status !== IDLE || list.status !== IDLE\n\n  if (address == null) return null\n  if (id == null) return null\n\n  return (\n    <Tr>\n      <Td maxW=\"50px\">\n        <Flex>\n          <Text>#{item.id}</Text>\n        </Flex>\n      </Td>\n      <Td>\n        <Text>{item.name}</Text>\n      </Td>\n      <Td>\n        <Text>{item.country}</Text>\n      </Td>\n      {/* <Td>\n        <ItemImage type={item.type} />\n      </Td> */}\n      <Td isNumeric>{item.price || 10}</Td>\n      {loggedIn && (\n        <>\n          {item.owned ? (\n            <Td isNumeric maxW=\"20px\">\n              <Button\n                colorScheme=\"orange\"\n                size=\"sm\"\n                disabled={BUSY}\n                onClick={list.cancelListing}\n              >\n                <HStack>\n                  {BUSY && <Spinner mr=\"2\" size=\"xs\" />}\n                  <Text>Unlist</Text>\n                </HStack>\n              </Button>\n            </Td>\n          ) : (\n            <Td isNumeric maxW=\"15px\">\n              <Button\n                colorScheme=\"blue\"\n                size=\"sm\"\n                disabled={BUSY}\n                onClick={list.buy}\n              >\n                <HStack>\n                  {BUSY && <Spinner mr=\"2\" size=\"xs\" />}\n                  <Text>Buy</Text>\n                </HStack>\n              </Button>\n            </Td>\n          )}\n        </>\n      )}\n    </Tr>\n  )\n}\n\nexport default function WrappedMarketItemCluster(props) {\n  return (\n    <Suspense\n      fallback={\n        <Tr>\n          <Td maxW=\"50px\">\n            <Flex>\n              <Text>#{props.id}</Text>\n              <Center ml=\"4\">\n                <Spinner size=\"xs\" />\n              </Center>\n            </Flex>\n          </Td>\n          <Td />\n          <Td />\n        </Tr>\n      }\n    >\n      <MarketItemCluster {...props} />\n    </Suspense>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}