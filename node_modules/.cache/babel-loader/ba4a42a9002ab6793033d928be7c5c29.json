{"ast":null,"code":"import _objectSpread from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Suspense}from\"react\";import{useAccountItem}from\"../hooks/use-account-item.hook\";import{useMarketItem}from\"../hooks/use-market-item.hook\";import{useCurrentUser}from\"../hooks/use-current-user.hook\";import{IDLE}from\"../global/constants\";import{Tr,Td,Button,Spinner,Flex,Center,Text,HStack}from\"@chakra-ui/react\";// export const ItemImage = ({type}) => {\n//   let [item, setItemImage] = useState(\"\")\n//   useEffect(() => {\n//     async function getImage() {\n//       let importedIcon = await import(`../svg/Items/item0${type}.svg`)\n//       setItemImage(importedIcon.default)\n//     }\n//     getImage()\n//   }, [type])\n//   return <Image maxW=\"64px\" src={item} />\n// }\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function AccountItemCluster(_ref){var address=_ref.address,id=_ref.id;var item=useAccountItem(address,id);var list=useMarketItem(address,id);var _useCurrentUser=useCurrentUser(),_useCurrentUser2=_slicedToArray(_useCurrentUser,1),cu=_useCurrentUser2[0];var BUSY=item.status!==IDLE;if(address==null)return null;if(id==null)return null;return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{maxW:\"50px\",children:/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsxs(Text,{as:item.forSale&&\"del\",children:[\"#\",item.id]})})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Text,{children:item.name})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Text,{children:item.country})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Text,{children:item.year})}),cu.addr===address&&/*#__PURE__*/_jsx(_Fragment,{children:!item.forSale?/*#__PURE__*/_jsx(Td,{isNumeric:true,maxW:\"100px\",children:/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",size:\"sm\",disabled:BUSY,onClick:function onClick(){return item.sell(\"10.0\");},children:/*#__PURE__*/_jsxs(HStack,{children:[BUSY&&/*#__PURE__*/_jsx(Spinner,{mr:\"2\",size:\"xs\"}),\" \",/*#__PURE__*/_jsx(Text,{children:\"List for 10 CULTURE TOKEN\"})]})})}):/*#__PURE__*/_jsx(Td,{isNumeric:true,maxW:\"50px\",children:/*#__PURE__*/_jsx(Button,{size:\"sm\",colorScheme:\"orange\",disabled:BUSY,onClick:list.cancelListing,children:/*#__PURE__*/_jsxs(HStack,{children:[BUSY&&/*#__PURE__*/_jsx(Spinner,{mr:\"2\",size:\"xs\"}),\" \",/*#__PURE__*/_jsx(Text,{children:\"Unlist\"})]})})})})]});}export default function WrappedAccountItemCluster(props){return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsxs(Text,{children:[\"#\",props.id]}),/*#__PURE__*/_jsx(Center,{ml:\"4\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xs\"})})]})}),/*#__PURE__*/_jsx(Td,{}),/*#__PURE__*/_jsx(Td,{}),/*#__PURE__*/_jsx(Td,{})]}),children:/*#__PURE__*/_jsx(AccountItemCluster,_objectSpread({},props))});}","map":{"version":3,"sources":["/Users/mvps/culturex/web/src/parts/account-item-cluster.comp.js"],"names":["React","Suspense","useAccountItem","useMarketItem","useCurrentUser","IDLE","Tr","Td","Button","Spinner","Flex","Center","Text","HStack","AccountItemCluster","address","id","item","list","cu","BUSY","status","forSale","name","country","year","addr","sell","cancelListing","WrappedAccountItemCluster","props"],"mappings":"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","sourcesContent":["import React, {Suspense} from \"react\"\nimport {useAccountItem} from \"../hooks/use-account-item.hook\"\nimport {useMarketItem} from \"../hooks/use-market-item.hook\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {\n  Tr,\n  Td,\n  Button,\n  Spinner,\n  Flex,\n  Center,\n  Text,\n  HStack,\n} from \"@chakra-ui/react\"\n\n// export const ItemImage = ({type}) => {\n//   let [item, setItemImage] = useState(\"\")\n\n//   useEffect(() => {\n//     async function getImage() {\n//       let importedIcon = await import(`../svg/Items/item0${type}.svg`)\n//       setItemImage(importedIcon.default)\n//     }\n//     getImage()\n//   }, [type])\n\n//   return <Image maxW=\"64px\" src={item} />\n// }\n\nexport function AccountItemCluster({address, id}) {\n  const item = useAccountItem(address, id)\n  const list = useMarketItem(address, id)\n  const [cu] = useCurrentUser()\n\n  const BUSY = item.status !== IDLE\n\n  if (address == null) return null\n  if (id == null) return null\n\n  return (\n    <Tr>\n      <Td maxW=\"50px\">\n        <Flex>\n          <Text as={item.forSale && \"del\"}>#{item.id}</Text>\n        </Flex>\n      </Td>\n      <Td>\n        <Text>{item.name}</Text>\n      </Td>\n      <Td>\n        <Text>{item.country}</Text>\n      </Td>\n      <Td>\n        <Text>{item.year}</Text>\n      </Td>\n      {/* <Td>\n        <ItemImage type={item.type} />\n      </Td> */}\n      {cu.addr === address && (\n        <>\n          {!item.forSale ? (\n            <Td isNumeric maxW=\"100px\">\n              <Button\n                colorScheme=\"blue\"\n                size=\"sm\"\n                disabled={BUSY}\n                onClick={() => item.sell(\"10.0\")}\n              >\n                <HStack>\n                  {BUSY && <Spinner mr=\"2\" size=\"xs\" />}{\" \"}\n                  <Text>List for 10 CULTURE TOKEN</Text>\n                </HStack>\n              </Button>\n            </Td>\n          ) : (\n            <Td isNumeric maxW=\"50px\">\n              <Button\n                size=\"sm\"\n                colorScheme=\"orange\"\n                disabled={BUSY}\n                onClick={list.cancelListing}\n              >\n                <HStack>\n                  {BUSY && <Spinner mr=\"2\" size=\"xs\" />} <Text>Unlist</Text>\n                </HStack>\n              </Button>\n            </Td>\n          )}\n        </>\n      )}\n    </Tr>\n  )\n}\n\nexport default function WrappedAccountItemCluster(props) {\n  return (\n    <Suspense\n      fallback={\n        <Tr>\n          <Td>\n            <Flex>\n              <Text>#{props.id}</Text>\n              <Center ml=\"4\">\n                <Spinner size=\"xs\" />\n              </Center>\n            </Flex>\n          </Td>\n          <Td />\n          <Td />\n          <Td />\n        </Tr>\n      }\n    >\n      <AccountItemCluster {...props} />\n    </Suspense>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}