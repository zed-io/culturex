{"ast":null,"code":"import _objectSpread from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Suspense}from\"react\";import{useFlowBalance}from\"../hooks/use-flow-balance.hook\";import{useKibblesBalance}from\"../hooks/use-kibbles-balance.hook\";import{useCurrentUser}from\"../hooks/use-current-user.hook\";import{IDLE}from\"../global/constants\";import{fmtKibbles}from\"../util/fmt-kibbles\";import{Box,Button,Table,Tbody,Tr,Td,Flex,Heading,Spinner,Center}from\"@chakra-ui/react\";import{useInitialized}from\"../hooks/use-initialized.hook\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function BalanceCluster(_ref){var address=_ref.address;var flow=useFlowBalance(address);var kibbles=useKibblesBalance(address);var init=useInitialized(address);return/*#__PURE__*/_jsxs(Box,{mb:\"4\",children:[/*#__PURE__*/_jsx(Box,{mb:\"2\",children:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mr:\"4\",children:\"Balances\"}),(flow.status!==IDLE||kibbles.status!==IDLE)&&/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Spinner,{size:\"sm\"})})]})}),/*#__PURE__*/_jsx(Box,{maxW:\"200px\",borderWidth:\"1px\",borderRadius:\"lg\",children:/*#__PURE__*/_jsx(Table,{size:\"sm\",children:/*#__PURE__*/_jsx(Tbody,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:\"Culture Token\"}),kibbles.status===IDLE?/*#__PURE__*/_jsx(Td,{isNumeric:true,children:fmtKibbles(kibbles.balance)}):/*#__PURE__*/_jsx(Td,{isNumeric:true,children:/*#__PURE__*/_jsx(Spinner,{size:\"sm\"})})]})})})}),/*#__PURE__*/_jsx(Box,{mt:\"2\",children:/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",disabled:kibbles.status!==IDLE||!init.isInitialized,onClick:kibbles.mint,children:\"Request Culture Tokens\"})})})]});}export default function WrappedBalanceCluster(props){var _useCurrentUser=useCurrentUser(),_useCurrentUser2=_slicedToArray(_useCurrentUser,1),cu=_useCurrentUser2[0];if(cu.addr!==props.address)return null;return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mr:\"4\",children:\"Balances\"}),/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Spinner,{size:\"sm\"})})]}),children:/*#__PURE__*/_jsx(BalanceCluster,_objectSpread({},props))});}","map":{"version":3,"sources":["/Users/mvps/culturex/web/src/parts/balance-cluster.comp.js"],"names":["Suspense","useFlowBalance","useKibblesBalance","useCurrentUser","IDLE","fmtKibbles","Box","Button","Table","Tbody","Tr","Td","Flex","Heading","Spinner","Center","useInitialized","BalanceCluster","address","flow","kibbles","init","status","balance","isInitialized","mint","WrappedBalanceCluster","props","cu","addr"],"mappings":"6RAAA,OAAQA,QAAR,KAAuB,OAAvB,CACA,OAAQC,cAAR,KAA6B,gCAA7B,CACA,OAAQC,iBAAR,KAAgC,mCAAhC,CACA,OAAQC,cAAR,KAA6B,gCAA7B,CACA,OAAQC,IAAR,KAAmB,qBAAnB,CACA,OAAQC,UAAR,KAAyB,qBAAzB,CACA,OACEC,GADF,CAEEC,MAFF,CAGEC,KAHF,CAIEC,KAJF,CAKEC,EALF,CAMEC,EANF,CAOEC,IAPF,CAQEC,OARF,CASEC,OATF,CAUEC,MAVF,KAWO,kBAXP,CAYA,OAAQC,cAAR,KAA6B,+BAA7B,C,wFAEA,MAAO,SAASC,CAAAA,cAAT,MAAmC,IAAVC,CAAAA,OAAU,MAAVA,OAAU,CACxC,GAAMC,CAAAA,IAAI,CAAGlB,cAAc,CAACiB,OAAD,CAA3B,CACA,GAAME,CAAAA,OAAO,CAAGlB,iBAAiB,CAACgB,OAAD,CAAjC,CACA,GAAMG,CAAAA,IAAI,CAAGL,cAAc,CAACE,OAAD,CAA3B,CACA,mBACE,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACE,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACE,MAAC,IAAD,yBACE,KAAC,OAAD,EAAS,IAAI,CAAC,IAAd,CAAmB,EAAE,CAAC,GAAtB,sBADF,CAIG,CAACC,IAAI,CAACG,MAAL,GAAgBlB,IAAhB,EAAwBgB,OAAO,CAACE,MAAR,GAAmBlB,IAA5C,gBACC,KAAC,MAAD,wBACE,KAAC,OAAD,EAAS,IAAI,CAAC,IAAd,EADF,EALJ,GADF,EADF,cAaE,KAAC,GAAD,EAAK,IAAI,CAAC,OAAV,CAAkB,WAAW,CAAC,KAA9B,CAAoC,YAAY,CAAC,IAAjD,uBACE,KAAC,KAAD,EAAO,IAAI,CAAC,IAAZ,uBACE,KAAC,KAAD,wBACE,MAAC,EAAD,yBACE,KAAC,EAAD,4BADF,CAEGgB,OAAO,CAACE,MAAR,GAAmBlB,IAAnB,cACC,KAAC,EAAD,EAAI,SAAS,KAAb,UAAeC,UAAU,CAACe,OAAO,CAACG,OAAT,CAAzB,EADD,cAGC,KAAC,EAAD,EAAI,SAAS,KAAb,uBACE,KAAC,OAAD,EAAS,IAAI,CAAC,IAAd,EADF,EALJ,GADF,EADF,EADF,EAbF,cA6BE,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACE,KAAC,IAAD,wBACE,KAAC,MAAD,EACE,WAAW,CAAC,MADd,CAEE,QAAQ,CAAEH,OAAO,CAACE,MAAR,GAAmBlB,IAAnB,EAA2B,CAACiB,IAAI,CAACG,aAF7C,CAGE,OAAO,CAAEJ,OAAO,CAACK,IAHnB,oCADF,EADF,EA7BF,GADF,CA2CD,CAED,cAAe,SAASC,CAAAA,qBAAT,CAA+BC,KAA/B,CAAsC,qBACtCxB,cAAc,EADwB,oDAC5CyB,EAD4C,qBAEnD,GAAIA,EAAE,CAACC,IAAH,GAAYF,KAAK,CAACT,OAAtB,CAA+B,MAAO,KAAP,CAE/B,mBACE,KAAC,QAAD,EACE,QAAQ,cACN,MAAC,IAAD,yBACE,KAAC,OAAD,EAAS,IAAI,CAAC,IAAd,CAAmB,EAAE,CAAC,GAAtB,sBADF,cAIE,KAAC,MAAD,wBACE,KAAC,OAAD,EAAS,IAAI,CAAC,IAAd,EADF,EAJF,GAFJ,uBAYE,KAAC,cAAD,kBAAoBS,KAApB,EAZF,EADF,CAgBD","sourcesContent":["import {Suspense} from \"react\"\nimport {useFlowBalance} from \"../hooks/use-flow-balance.hook\"\nimport {useKibblesBalance} from \"../hooks/use-kibbles-balance.hook\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {fmtKibbles} from \"../util/fmt-kibbles\"\nimport {\n  Box,\n  Button,\n  Table,\n  Tbody,\n  Tr,\n  Td,\n  Flex,\n  Heading,\n  Spinner,\n  Center,\n} from \"@chakra-ui/react\"\nimport {useInitialized} from \"../hooks/use-initialized.hook\"\n\nexport function BalanceCluster({address}) {\n  const flow = useFlowBalance(address)\n  const kibbles = useKibblesBalance(address)\n  const init = useInitialized(address)\n  return (\n    <Box mb=\"4\">\n      <Box mb=\"2\">\n        <Flex>\n          <Heading size=\"md\" mr=\"4\">\n            Balances\n          </Heading>\n          {(flow.status !== IDLE || kibbles.status !== IDLE) && (\n            <Center>\n              <Spinner size=\"sm\" />\n            </Center>\n          )}\n        </Flex>\n      </Box>\n      <Box maxW=\"200px\" borderWidth=\"1px\" borderRadius=\"lg\">\n        <Table size=\"sm\">\n          <Tbody>\n            <Tr>\n              <Td>Culture Token</Td>\n              {kibbles.status === IDLE ? (\n                <Td isNumeric>{fmtKibbles(kibbles.balance)}</Td>\n              ) : (\n                <Td isNumeric>\n                  <Spinner size=\"sm\" />\n                </Td>\n              )}\n            </Tr>\n          </Tbody>\n        </Table>\n      </Box>\n      <Box mt=\"2\">\n        <Flex>\n          <Button\n            colorScheme=\"blue\"\n            disabled={kibbles.status !== IDLE || !init.isInitialized}\n            onClick={kibbles.mint}\n          >\n            Request Culture Tokens\n          </Button>\n        </Flex>\n      </Box>\n    </Box>\n  )\n}\n\nexport default function WrappedBalanceCluster(props) {\n  const [cu] = useCurrentUser()\n  if (cu.addr !== props.address) return null\n\n  return (\n    <Suspense\n      fallback={\n        <Flex>\n          <Heading size=\"md\" mr=\"4\">\n            Balances\n          </Heading>\n          <Center>\n            <Spinner size=\"sm\" />\n          </Center>\n        </Flex>\n      }\n    >\n      <BalanceCluster {...props} />\n    </Suspense>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}