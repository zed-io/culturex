{"ast":null,"code":"import _slicedToArray from\"/Users/mvps/culturex/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect}from\"react\";import{atom,useRecoilState}from\"recoil\";import*as fcl from\"@onflow/fcl\";export var currentUser=atom({key:\"CURRENT_USER\",default:{addr:null,loggedIn:null,cid:null}});var tools={logIn:fcl.logIn,logOut:fcl.unauthenticate,signUp:fcl.signUp,changeUser:fcl.reauthenticate};export function useCurrentUser(){var _useRecoilState=useRecoilState(currentUser),_useRecoilState2=_slicedToArray(_useRecoilState,2),user=_useRecoilState2[0],setUser=_useRecoilState2[1];useEffect(function(){return fcl.currentUser().subscribe(setUser);},[setUser]);return[user,user.addr!=null,tools];}","map":{"version":3,"sources":["/Users/mvps/culturex/web/src/hooks/use-current-user.hook.js"],"names":["useEffect","atom","useRecoilState","fcl","currentUser","key","default","addr","loggedIn","cid","tools","logIn","logOut","unauthenticate","signUp","changeUser","reauthenticate","useCurrentUser","user","setUser","subscribe"],"mappings":"+IAAA,OAAQA,SAAR,KAAwB,OAAxB,CACA,OAAQC,IAAR,CAAcC,cAAd,KAAmC,QAAnC,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,aAArB,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAGH,IAAI,CAAC,CAC9BI,GAAG,CAAE,cADyB,CAE9BC,OAAO,CAAE,CAACC,IAAI,CAAE,IAAP,CAAaC,QAAQ,CAAE,IAAvB,CAA6BC,GAAG,CAAE,IAAlC,CAFqB,CAAD,CAAxB,CAKP,GAAMC,CAAAA,KAAK,CAAG,CACZC,KAAK,CAAER,GAAG,CAACQ,KADC,CAEZC,MAAM,CAAET,GAAG,CAACU,cAFA,CAGZC,MAAM,CAAEX,GAAG,CAACW,MAHA,CAIZC,UAAU,CAAEZ,GAAG,CAACa,cAJJ,CAAd,CAOA,MAAO,SAASC,CAAAA,cAAT,EAA0B,qBACPf,cAAc,CAACE,WAAD,CADP,oDACxBc,IADwB,qBAClBC,OADkB,qBAE/BnB,SAAS,CAAC,iBAAMG,CAAAA,GAAG,CAACC,WAAJ,GAAkBgB,SAAlB,CAA4BD,OAA5B,CAAN,EAAD,CAA6C,CAACA,OAAD,CAA7C,CAAT,CACA,MAAO,CAACD,IAAD,CAAOA,IAAI,CAACX,IAAL,EAAa,IAApB,CAA0BG,KAA1B,CAAP,CACD","sourcesContent":["import {useEffect} from \"react\"\nimport {atom, useRecoilState} from \"recoil\"\nimport * as fcl from \"@onflow/fcl\"\n\nexport const currentUser = atom({\n  key: \"CURRENT_USER\",\n  default: {addr: null, loggedIn: null, cid: null},\n})\n\nconst tools = {\n  logIn: fcl.logIn,\n  logOut: fcl.unauthenticate,\n  signUp: fcl.signUp,\n  changeUser: fcl.reauthenticate,\n}\n\nexport function useCurrentUser() {\n  const [user, setUser] = useRecoilState(currentUser)\n  useEffect(() => fcl.currentUser().subscribe(setUser), [setUser])\n  return [user, user.addr != null, tools]\n}\n"]},"metadata":{},"sourceType":"module"}